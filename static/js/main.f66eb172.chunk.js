(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{14:function(e,t,a){e.exports=a(48)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),l=a.n(c),i=a(1),m=function(e,t){var a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],l=r[1],m=Object(n.useState)(!0),s=Object(i.a)(m,2),o=s[0],u=s[1],d=Object(n.useState)(null),v=Object(i.a)(d,2),E=v[0],f=v[1],b=encodeURIComponent(t);return Object(n.useEffect)((function(){fetch("".concat(e).concat(b)).then((function(e){return e.json()})).then((function(e){"True"===e.Response&&(l(e.Search),u(!1)),f(e.Error),u(!1)}))}),[b]),[c,o,E]},s=a(13),o=a.n(s)()(["batman","avengers","lego","love","one","black"]),u=(a(46),function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],m=Object(n.useRef)();Object(n.useEffect)((function(){m.current.focus()}),[]);var s=function(t){t.preventDefault(),e.searchTerm(c),l(""),m.current.focus()};return r.a.createElement("div",null,r.a.createElement("form",{className:"search-form ui form",onSubmit:s},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Search for your favourite movies!"),r.a.createElement("input",{type:"text",ref:m,placeholder:"Search",onChange:function(e){return l(e.target.value)},value:c}))))}),d=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),r=a[0],c=a[1],l=encodeURIComponent(e);return Object(n.useEffect)((function(){fetch("http://www.omdbapi.com/?apikey=98b07407&t=".concat(l)).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[e]),[r]},v=function(e){var t=e.Title,a=e.handleDismiss,l=document.querySelector("#modal"),m=d(t),s=Object(i.a)(m,1)[0];return Object(c.createPortal)(function(){var e=s.Actors,t=s.Director,c=s.Plot,l=s.Poster,i=s.Rated,m=s.Released,o=s.Runtime,u=s.Title,d=s.imdbRating;return r.a.createElement("div",{className:"ui page modals dimmer visible active",onClick:a},l?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui standard modal visible active",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"header"},u),r.a.createElement("div",{className:"image content"},r.a.createElement("div",{className:"ui medium image"},r.a.createElement("img",{src:l,alt:"movie poster"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"description"},r.a.createElement("h3",null,e),r.a.createElement("p",null,"Directed by ",t),r.a.createElement("br",null),r.a.createElement("p",null,c),r.a.createElement("br",null),r.a.createElement("div",null,"Released: ",m),r.a.createElement("div",null,"Runtime: ",o),r.a.createElement("div",null,"Rating: ",i),r.a.createElement("div",null,"IMDB Rating: ",d))))):r.a.createElement("div",{className:"ui active text loader"},"Loading"))}(),l)},E=function(e){var t=e.movie,a=Object(n.useState)(!1),c=Object(i.a)(a,2),l=c[0],m=c[1],s=t.Poster,o=t.Title,u=t.Year;return r.a.createElement(n.Fragment,null,l&&r.a.createElement(v,{Title:o,handleDismiss:function(){m(!1)}}),r.a.createElement("div",{className:"ui link card",onClick:function(){return m(!0)}},s?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:s,alt:"movie has no poster!"})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},o),r.a.createElement("div",{className:"meta"},u))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"image"},r.a.createElement("div",{className:"ui placeholder"},r.a.createElement("img",{src:"",alt:"movie has no poster!"}))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"ui placeholder"},r.a.createElement("div",{className:"header"},"Loading..."),r.a.createElement("div",{className:"meta"},"Loading..."))))))},f=function(e){var t=e.movies;return r.a.createElement("div",{className:"ui grid"},t.map((function(e,t){return r.a.createElement("div",{className:"four wide column",key:t},r.a.createElement(E,{movie:e}))})))},b=function(){return r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui text loader"},"Loading"))},p=function(e){var t=e.errorMessage;return r.a.createElement("div",{className:"ui negative message"},r.a.createElement("div",{className:"header"},"An error has occured"),r.a.createElement("p",null,t))},h=function(){return r.a.createElement("div",{className:"nav-bar ui inverted top fixed one item massive menu"},r.a.createElement("div",{className:"header item"},"OMDB Search"))},g=(a(47),function(){var e=Object(n.useState)(o),t=Object(i.a)(e,2),a=t[0],c=t[1],l=m("http://www.omdbapi.com/?apikey=98b07407&type=movie&s=",a),s=Object(i.a)(l,3),d=s[0],v=s[1],E=s[2],g=function(e){c(e)};return r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"main-container ui container"},r.a.createElement(u,{searchTerm:g}),v||E||!d?v||!E||d?r.a.createElement(b,null):r.a.createElement(p,{errorMessage:E}):r.a.createElement(f,{movies:d}))))});l.a.render(r.a.createElement(g,null),document.querySelector("#root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f66eb172.chunk.js.map